C51 COMPILER V9.54   TEXT1                                                                 09/06/2017 08:21:15 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE TEXT1
OBJECT MODULE PLACED IN text1.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE text1.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          
   2          
   3          
   4          /* 启光电子
   5             闪烁灯实验 
   6             运动指示灯直接接在P55口上
   7             只要控制io口相应电平变化即可
   8             */
   9          
  10          
  11          
  12          #include "stc15f2k60s2.h"
  13          
  14          
  15          void delayms(unsigned int m)
  16               {
  17   1          int  a, b;
  18   1      
  19   1         for(a=0;a<5000;a++)
  20   1         for(b=0;b<m;b++);
  21   1           
  22   1         }
  23          
  24          
  25          //真对 IAP15W4K61S4   STC15W4K56S4 系列 IO口初始化
  26          //io口初始化 P0 P1 P2 P3 P4 为准双向IO口   
  27          //注意: STC15W4K32S4系列的芯片,上电后所有与PWM相关的IO口均为
  28          //      高阻态,需将这些口设置为准双向口或强推挽模式方可正常使用
  29          //相关IO: P0.6/P0.7/P1.6/P1.7/P2.1/P2.2
  30          //        P2.3/P2.7/P3.7/P4.2/P4.4/P4.5
  31          void IO_init(void)
  32          {
  33   1        P0M0 = 0X00;
  34   1        P0M1 = 0X00;
  35   1      
  36   1        P1M0 = 0X00;
  37   1        P1M1 = 0X00;
  38   1      
  39   1        P2M0 = 0X00;
  40   1        P2M1 = 0X00;
  41   1      
  42   1        P3M0 = 0X00;
  43   1        P3M1 = 0X00;
  44   1      
  45   1        P4M0 = 0X00;
  46   1        P4M1 = 0X00;  
  47   1      }
  48          
  49          
  50          
  51          main()
  52          {
  53   1      IO_init();           //真对 IAP15W4K61S4  IO口初始化
  54   1      while(1)
  55   1      {
C51 COMPILER V9.54   TEXT1                                                                 09/06/2017 08:21:15 PAGE 2   

  56   2        P55=0;
  57   2        delayms(10);
  58   2        P55=1;
  59   2        delayms(50);
  60   2      
  61   2      }
  62   1      }
  63          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     75    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
